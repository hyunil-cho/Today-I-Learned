# RAID (Redundant Array of Independent Disks)

## 1. RAID란?

**RAID**는 *Redundant Array of Independent Disks*의 약자로,  
여러 개의 **물리적 디스크를 하나의 논리적 디스크처럼 묶어 사용하는 기술**이다.  

이 방식은 다음의 세 가지 목적을 달성하기 위해 사용된다.

- **성능 향상 (Performance)**
- **데이터 보호 및 복구 (Redundancy / Fault Tolerance)**
- **용량 확장 (Scalability)**

---

## 2. RAID의 기본 개념

| 용어 | 설명 |
|------|------|
| **Striping** | 데이터를 일정 크기 단위(Stripe)로 나누어 여러 디스크에 분산 저장하는 방식. 읽기/쓰기 속도가 향상된다. |
| **Mirroring** | 동일한 데이터를 두 개 이상의 디스크에 그대로 복제하는 방식. 데이터 안정성이 높다. |
| **Parity** | 오류 발생 시 데이터를 복구하기 위한 검증용 정보. 일부 디스크에 패리티 블록을 분산 저장한다. |

---

## 3. RAID의 주요 레벨

### 🟢 RAID 0 — 스트라이핑 (Striping)

- **구성**: 2개 이상의 디스크
- **방식**: 데이터를 분할하여 각 디스크에 병렬 저장
- **특징**:
  - 읽기/쓰기 속도 매우 빠름
  - 디스크 1개라도 고장 나면 전체 데이터 손실
- **용도**: 캐시, 임시 데이터, 비중요 작업

Disk1: A1 A3
Disk2: A2 A4

| 항목 | 설명 |
|------|------|
| 신뢰성 | 낮음 (복구 불가) |
| 성능 | 매우 높음 |
| 저장 효율 | 100% |


### 🟢 RAID 1 — 미러링 (Mirroring)

- **구성**: 2개 디스크
- **방식**: 동일한 데이터를 두 디스크에 복제
- **특징**:
  - 한 디스크 고장 시에도 정상 동작
  - 쓰기 속도는 약간 저하
- **용도**: 고신뢰성 환경 (DB 서버, 시스템 파티션)

Disk1: A1 A2 A3
Disk2: A1 A2 A3

| 항목 | 설명 |
|------|------|
| 신뢰성 | 매우 높음 |
| 성능 | 보통 |
| 저장 효율 | 50% (용량 절반 사용) |

### 🟢 RAID 5 — 스트라이핑 + 패리티

- **구성**: 최소 3개 디스크
- **방식**: 데이터와 패리티 정보를 분산 저장
- **특징**:
  - 디스크 1개 고장 시 복구 가능
  - 읽기 성능 우수, 쓰기 시 패리티 연산으로 약간 느림
- **용도**: 일반 서버, NAS 등에서 가장 널리 사용


Disk1: A1 A2 P3
Disk2: A3 P2 A4
Disk3: P1 A5 A6
(P = Parity)

| 항목 | 설명 |
|------|------|
| 신뢰성 | 높음 |
| 성능 | 좋음 |
| 저장 효율 | (n-1)/n |


### 🟢 RAID 6 — 이중 패리티 (Double Parity)

- **구성**: 최소 4개 디스크
- **방식**: 2개의 패리티 블록을 각기 다른 디스크에 저장
- **특징**:
  - 디스크 2개 동시 고장에도 복구 가능
  - 쓰기 속도는 RAID 5보다 낮음
- **용도**: 대용량 스토리지, 기업 서버

| 항목 | 설명 |
|------|------|
| 신뢰성 | 매우 높음 |
| 성능 | 중간 |
| 저장 효율 | (n-2)/n |


### 🟢 RAID 10 (RAID 1 + RAID 0)

- **구성**: 최소 4개 디스크  
  (RAID 1로 묶인 쌍을 RAID 0 방식으로 병렬 구성)
- **특징**:
  - RAID 1의 안정성과 RAID 0의 속도를 동시에 확보
  - 용량 효율은 낮음 (절반 사용)
- **용도**: 고성능·고안정성 서버, 데이터베이스
  
RAID 10 = (Disk1 ↔ Disk2) + (Disk3 ↔ Disk4)\

| 항목 | 설명 |
|------|------|
| 신뢰성 | 매우 높음 |
| 성능 | 매우 높음 |
| 저장 효율 | 50% |


## 4. RAID 레벨 비교표

| RAID 레벨 | 최소 디스크 수 | 신뢰성 | 성능 | 저장 효율 | 특징 |
|------------|----------------|----------|----------|-------------|------|
| RAID 0 | 2 | ★☆☆☆☆ | ★★★★★ | 100% | 속도 최우선 |
| RAID 1 | 2 | ★★★★★ | ★★☆☆☆ | 50% | 복제 기반 |
| RAID 5 | 3 | ★★★★☆ | ★★★★☆ | (n-1)/n | 패리티 분산 |
| RAID 6 | 4 | ★★★★★ | ★★★☆☆ | (n-2)/n | 이중 패리티 |
| RAID 10 | 4 | ★★★★★ | ★★★★★ | 50% | 고성능 + 안정성 |



## 5. 하드웨어 RAID vs 소프트웨어 RAID

| 구분 | 하드웨어 RAID | 소프트웨어 RAID |
|------|----------------|------------------|
| 관리 주체 | 전용 RAID 컨트롤러 | 운영체제(OS) |
| 성능 | 높음 (전용 칩 처리) | 낮음 (CPU 자원 사용) |
| 비용 | 비쌈 | 저렴 |
| 복구 용이성 | 컨트롤러 종속적 | 유연함 |
| 예시 | Dell PERC, HP Smart Array | Linux `mdadm`, Windows Storage Spaces |


## 6. RAID의 한계

- RAID는 **백업(Backup)**의 대체가 아니다.
  - 실수, 랜섬웨어, 화재, 삭제 등은 보호 불가.
  - 반드시 별도의 백업 체계가 필요하다.
- RAID 복구 시간은 디스크 용량에 비례하여 매우 길 수 있다.
- SSD 환경에서는 RAID 컨트롤러 및 TRIM 명령 지원 여부를 확인해야 한다.


## 7. Linux에서 RAID 관리 (mdadm 예시)

```
# RAID 상태 확인
cat /proc/mdstat

# RAID 1 생성
sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sda /dev/sdb

# RAID 상세 정보 확인
sudo mdadm --detail /dev/md0

# RAID 설정 저장
sudo mdadm --detail --scan >> /etc/mdadm/mdadm.conf
---

정리

RAID는 “디스크를 여러 개 묶어서 더 빠르고, 더 안전하게 쓰는 기술”이다.
하지만 RAID는 백업이 아니다. — RAID + 정기 백업 = 안전한 데이터 관리
