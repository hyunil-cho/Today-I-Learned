# 🐚 리눅스 쉘 프로그래밍 입문

리눅스에서 **쉘(Shell)**은 사용자가 운영체제와 상호작용할 수 있도록 도와주는 **명령어 해석기(Command Interpreter)**입니다. 쉘 프로그래밍(Shell Programming)은 이러한 쉘 명령어들을 조합해 **자동화 스크립트**를 작성하는 것을 의미합니다.

---

## 📘 1. 쉘이란?

리눅스에서 쉘은 커널과 사용자를 연결하는 인터페이스 역할을 합니다.

* **사용자** → 명령 입력 (`ls`, `cd`, `echo` 등)
* **쉘** → 명령을 해석하고 커널에 전달
* **커널** → 실제 작업 수행 후 결과 반환

### 주요 쉘 종류

| 쉘 종류   | 설명                                   |
| ------ | ------------------------------------ |
| `bash` | 가장 널리 사용되는 기본 쉘 (Bourne Again Shell) |
| `sh`   | 전통적인 유닉스 쉘 (Bourne Shell)            |
| `zsh`  | 고급 기능이 많은 쉘, 자동완성 및 테마 지원            |
| `fish` | 사용하기 편한 직관적인 쉘                       |

현재 사용 중인 쉘 확인:

```bash
echo $SHELL
```

---

## ⚙️ 2. 쉘 스크립트의 기본 구조

쉘 스크립트 파일은 보통 `.sh` 확장자를 가지며, 맨 위에는 **shebang**이 포함됩니다.

```bash
#!/bin/bash
# myscript.sh

echo "Hello, Linux Shell!"
```

### 실행 방법

```bash
chmod +x myscript.sh   # 실행 권한 부여
./myscript.sh          # 실행
```

---

## 🧩 3. 변수와 연산

### 변수 선언과 사용

```bash
name="hycho"
echo "Hello, $name!"
```

> 💡 등호(=) 앞뒤에는 **공백이 없어야** 합니다.

### 명령어 결과를 변수에 저장

```bash
date_today=$(date)
echo "오늘 날짜: $date_today"
```

---

## 🔁 4. 조건문 (if)

```bash
#!/bin/bash
read -p "나이를 입력하세요: " age

if [ $age -ge 20 ]; then
    echo "성인입니다."
else
    echo "미성년자입니다."
fi
```

> 🔍 `-eq`, `-ne`, `-lt`, `-le`, `-gt`, `-ge` 는 각각 `=`, `!=`, `<`, `<=`, `>`, `>=` 비교를 의미합니다.

---

## 🔁 5. 반복문 (for, while)

### for 문

```bash
for i in 1 2 3 4 5; do
    echo "번호: $i"
done
```

### while 문

```bash
i=1
while [ $i -le 5 ]; do
    echo "반복: $i"
    ((i++))
done
```

---

## 🧮 6. 함수 사용

```bash
#!/bin/bash
hello() {
    echo "Hello, $1!"
}

hello "World"
hello "Linux"
```

---

## 📂 7. 파일 및 디렉터리 제어

```bash
#!/bin/bash
file="test.txt"

if [ -f "$file" ]; then
    echo "파일이 존재합니다."
else
    echo "파일이 없습니다. 새로 만듭니다."
    touch "$file"
fi
```

| 옵션   | 설명         |
| ---- | ---------- |
| `-f` | 일반 파일인지 확인 |
| `-d` | 디렉터리인지 확인  |
| `-e` | 존재 여부 확인   |

---

## ⚡ 8. 명령어 활용 예시

### 백업 스크립트 예시

```bash
#!/bin/bash
backup_dir="/backup"
mkdir -p "$backup_dir"
cp -r /home/user/docs "$backup_dir/docs_$(date +%Y%m%d)"
echo "백업 완료: $(date)"
```

---

## 🧠 9. 쉘 스크립트 작성 시 팁

1. 항상 `#!/bin/bash`로 시작
2. `set -e` 옵션으로 에러 발생 시 즉시 종료
3. `echo` 대신 `printf` 사용 시 포맷 지정 가능
4. 실행 전 `shellcheck`로 문법 점검
5. 스크립트 내 주석(`#!/`, `#`)을 적극 활용

---

## 🚀 10. 실습 아이디어

| 주제         | 내용                               |
| ---------- | -------------------------------- |
| 로그인 환영 메시지 | 로그인 시 사용자 이름과 시간 출력              |
| 시스템 모니터링   | `df`, `free`, `uptime` 결과를 자동 저장 |
| 자동 백업      | 특정 폴더를 날짜별로 백업                   |
| 로그 정리      | 7일 지난 로그 삭제                      |

---

## 📚 마무리

쉘 스크립트는 리눅스 환경에서 **자동화, 시스템 관리, 배포 스크립트 작성** 등에 매우 유용합니다. 익숙해질수록 터미널에서의 작업 속도와 효율이 비약적으로 향상됩니다.

> "쉘 스크립트는 리눅스의 언어다." — 익히면 시스템이 보입니다.
