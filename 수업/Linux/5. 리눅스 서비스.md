# 리눅스 서비스(Service) 개요

## 1. 서비스란?

리눅스에서 **서비스(Service)** 란, 시스템이 부팅될 때 자동으로 실행되거나, 사용자가 명시적으로 시작할 수 있는 **백그라운드 프로세스(daemon)** 를 의미한다.  
예를 들어 다음과 같은 것들이 서비스이다.

- `sshd` : SSH 원격 접속을 처리하는 서비스  
- `httpd` : Apache 웹 서버 서비스  
- `nginx` : Nginx 웹 서버 서비스  
- `mysqld` : MySQL 데이터베이스 서비스  
- `cron` : 정기 작업을 스케줄링하는 서비스

서비스는 일반적으로 **백그라운드에서 지속적으로 실행되며**, 시스템 자원이나 네트워크 요청을 처리한다.

---

## 2. 서비스 관리 도구

리눅스 배포판에 따라 서비스 관리 방식이 다르지만, 현재 대부분의 리눅스 시스템(RHEL, Rocky, Ubuntu 등)은 **`systemd`** 를 사용한다.

### 주요 명령어 (`systemctl`)

| 명령어 | 설명 |
|--------|------|
| `systemctl start 서비스명` | 서비스를 즉시 시작 |
| `systemctl stop 서비스명` | 서비스를 즉시 중지 |
| `systemctl restart 서비스명` | 서비스를 재시작 |
| `systemctl status 서비스명` | 서비스 상태 확인 |
| `systemctl enable 서비스명` | 부팅 시 자동 시작 설정 |
| `systemctl disable 서비스명` | 부팅 시 자동 시작 해제 |
| `systemctl list-units --type=service` | 현재 실행 중인 서비스 목록 확인 |

예시:
```bash
sudo systemctl start nginx
sudo systemctl enable nginx
sudo systemctl status nginx
```

## 3. 서비스의 상태

systemctl status 명령으로 확인할 수 있는 주요 상태는 다음과 같다.

|상태	| 의미 |
|-----|------|
|active(running) | 	서비스가 정상적으로 실행 중|
|inactive (dead)	|서비스가 중지되어 있음 |
|failed |	서비스 실행 중 오류 발생|
|activating / deactivating	|서비스가 시작 또는 종료 중|

## 4. 서비스 설정 파일 위치

서비스 설정 파일은 주로 아래 위치에 존재한다.

|경로	|설명|
|-----|----|
|/etc/systemd/system/|	사용자가 정의한 서비스 설정 (우선순위 높음)|
|/usr/lib/systemd/system/|	기본 서비스 설정 파일 (패키지 설치 시 생성)|
|/etc/init.d/|	구형 SysV 서비스 스크립트 (호환용)|

서비스 설정 파일은 .service 확장자를 가지며, 예를 들어 nginx.service 와 같은 이름으로 존재한다.

## 5. 서비스 로그 확인

서비스 로그는 journalctl 명령을 통해 확인할 수 있다.
```
명령어	설명
journalctl -u 서비스명	해당 서비스의 전체 로그 출력
journalctl -u 서비스명 -f	실시간 로그 출력 (tail과 유사)
journalctl -xe
```

## 6. 서비스 자동 시작 설정 확인
```
systemctl is-enabled 서비스명

결과 예시:

enabled → 부팅 시 자동 실행됨

disabled → 부팅 시 자동 실행되지 않음

static → 다른 서비스에 종속되어 실행됨
```

### 마무리

systemd 이전에는 service 명령이나 /etc/init.d/ 스크립트를 사용했지만,
현대 리눅스에서는 systemctl 사용이 표준이다.

서비스는 시스템의 핵심 구성 요소이며, 서버 관리 및 장애 대응의 기본 단위이다.
